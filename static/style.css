/* ─────────────────────────────────────────────────────────
   1. Variables & Palette
───────────────────────────────────────────────────────── */
:root {
    /* Neutrals */
    --chat-bg: #FFF8ED; /* warmer off-white */
    --white: #FFFFFF;

    /* PBASC Brand Palette */
    --dark-orange: #FF9000;
    --cool-black: #012A68;
    --teal: #00B6BB;
    --navy: #014B7B;
    --light-orange: #FFAF1A;
    --burnt-orange: #FB7A01;

    /* Adjusted neutrals for panels & text */
    --panel-bg: var(--white);
    --text-main: var(--cool-black);
    --text-alt: var(--dark-orange);

    /* Adding a variable for consistent border color if needed */
    --border-color-default: rgba(0, 0, 0, 0.1);
}

/* ─────────────────────────────────────────────────────────
   2. Base Layout
───────────────────────────────────────────────────────── */
body {
    background: var(--chat-bg);
    color: var(--text-main);
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;

    /* --- ADDED for sharper text rendering --- */
    -webkit-font-smoothing: antialiased; /* macOS/iOS Safari/Chrome */
    -moz-osx-font-smoothing: grayscale; /* Firefox on macOS/iOS */
    text-rendering: optimizeLegibility; /* Improves kerning and ligatures */
    /* Ensure a base font size for consistency across elements */
    font-size: 16px; /* Example, adjust as needed */
    line-height: 1.5; /* Good default line height */
}

/* For responsive scaling on mobile to prevent blurry initial rendering */
html {
    -webkit-text-size-adjust: 100%; /* Prevent text size adjustment on mobile */
    text-size-adjust: 100%;
}
/* Ensure this meta tag is in your HTML <head> section:
<meta name="viewport" content="width=device-width, initial-scale=1.0">
*/


.chatbot-wrapper {
    position: relative;
    width: 100%;
    max-width: 800px; /* Chatbox width */
    min-width: 350px;
    min-height: 760px;
    background: var(--panel-bg);
    margin: 32px auto;
    border-radius: 28px;
    box-shadow: 0 8px 40px rgba(1, 42, 104, 0.13);
    overflow: hidden;
    display: flex;
    flex-direction: column; /* Change to column layout */
    border: 2px solid var(--navy); /* Borders look good already */
    transition: all 0.3s ease-in-out;
    /* Added: Ensure crisp rendering of content within on some systems */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

/* Hide/show animation */
.chatbot-hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateY(100%);
}

/* ─────────────────────────────────────────────────────────
   3. Watermark & Avatar
───────────────────────────────────────────────────────── */
.watermark-bg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 125%;
    max-width: 600px;
    max-height: 425px;
    opacity: 0.1;
    z-index: 0;
    pointer-events: none;
    user-select: none;
    /* --- ADDED for better image scaling on the watermark --- */
    /* If this is a raster image, consider using a higher resolution source. */
    /* These can sometimes make very subtle images look better, but primarily for pixel art */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: pixelated; /* Be careful, this can make non-pixel art look bad */
}

.bot-avatar {
    width: 33px;
    height: 25px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 9px;
    border: 2px solid var(--navy);
    background: var(--white);
    box-shadow: 0 2px 8px rgba(193, 170, 115, 0.10);
    padding-bottom: 5px;
    /* --- ADDED for avatar sharpness --- */
    /* If the avatar image itself is blurry, provide a higher resolution source. */
    /* For small circular images, SVG is ideal for logos/icons. */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

.message.bot {
    display: flex;
    align-items: flex-start;
    gap: 7px;
}

/* ─────────────────────────────────────────────────────────
   4. Header & Branding
───────────────────────────────────────────────────────── */
.chatbot-header {
    display: flex;
    align-items: center;
    padding: 20px 28px 16px 28px;
    background: var(--panel-bg);
    border-bottom: 1.5px solid rgba(0, 0, 0, 0.1); /* Border looks sharp already */
    gap: 12px;
    position: relative;
    /* Added: For potential subtle crispness */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

.close-chatbot-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: transparent;
    border: none;
    font-size: 1.5rem;
    color: var(--navy);
    cursor: pointer;
    line-height: 1;
    padding: 5px;
    transition: color 0.2s ease;
}
.close-chatbot-btn:hover {
    color: var(--dark-orange);
}

.logo-img {
    width: 37px;
    height: 40px;
    object-fit: contain;
    border-radius: 10px;
    border: 2px solid var(--navy); /* Border looks sharp */
    background: var(--white);
    /* --- ADDED for logo sharpness --- */
    /* If this is a raster image, consider replacing with SVG for ultimate sharpness at any size. */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
}

.brand-title {
    font-family: 'Tavijar SemiBold', serif; /* Ensure this font is loaded correctly */
    font-size: 1.25rem;
    color: var(--cool-black);
    letter-spacing: 1px;
    font-weight: 700;
    /* Font smoothing applied via body */
}

/* ─────────────────────────────────────────────────────────
   5. Tabs & Panels
───────────────────────────────────────────────────────── */
.tab-nav {
    display: flex;
    border-bottom: 1px solid var(--chat-bg); /* Check this border for sharpness */
    background: #fff8ed;
}
.tab-btn {
    flex: 1;
    padding: 15px 0;
    background: transparent;
    border: none; /* No border initially */
    font: 600 1.08rem 'Montserrat', sans-serif;
    color: var(--cool-black);
    letter-spacing: 0.5px;
    cursor: pointer;
    outline: none;
    transition: background 0.2s, color 0.2s;
}
.tab-btn.active {
    background: var(--light-orange);
    color: var(--cool-black);
    border-bottom: 2.5px solid var(--navy); /* This border should be sharp */
    border-radius: 0 12px 0 0;
}
.tab-content {
    display: none;
    flex-direction: column;
    background: var(--chat-bg);
    padding: 0;
}

#chat-tab.tab-content {
    display: flex;
    height: 440px;
}
#suggestion-tab.tab-content {
    display: flex;
    height: 260px;
    background: #fff8ed;
    justify-content: center;
    align-items: center;
}

/* ─────────────────────────────────────────────────────────
   6. Chat Area & Bubbles
───────────────────────────────────────────────────────── */
.chat-scrollable-content {
    flex-grow: 1; /* Allow the chat area to take up remaining space */
    overflow-y: auto;
    padding: 24px 18px;
    display: flex;
    flex-direction: column;
    gap: 16px;
    /* Added: For subtle crispness */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

.chat-area {
    display: flex;
    flex-direction: column;
    gap: 16px;
    min-height: fit-content;
}

.message {
    display: flex;
    margin-bottom: 6px;
    align-items: flex-end;
}
.message.bot { justify-content: flex-start; }
.message.user { justify-content: flex-end; }

.bubble {
    max-width: 74%;
    padding: 12px 18px;
    border-radius: 18px 18px 18px 5px;
    font-size: 1rem;
    box-shadow: 0 1px 6px rgba(12, 72, 62, 0.10); /* Shadow looks soft, can be adjusted for sharpness */
    word-break: break-word;
    font-family: 'Montserrat', sans-serif;
    line-height: 1.5;
    /* Added: Ensure text and shapes within bubbles are rendered crisply */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transform: translateZ(0); /* Promotes hardware
